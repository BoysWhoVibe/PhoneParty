# Mafia Game TODO List

**SYNC PROTOCOL: When updating TODO items, ALWAYS update BOTH files in the same action:**
1. Update replit.md 
2. Update attached_assets/TODO list (this file)
3. Use identical content in both locations
4. Verify both changes completed successfully before proceeding

## Future Tasks & Features to Implement

**üìä COMPLETION SUMMARY:**
- ‚úÖ **4/4 Major game mechanics** have UI implementation complete
- ‚úÖ **All core game phases** (Lobby ‚Üí Town Naming ‚Üí Role Assignment ‚Üí Night/Day ‚Üí Voting ‚Üí Game End) are built
- ‚è≥ **Backend processing** for night actions and vote elimination needs completion
- ‚è≥ **Enhanced customization** features need implementation

### Core Game Mechanics (High Priority)
1. ‚úÖ **Town naming voting mode implementation** (COMPLETED)
   - ‚úÖ Players submit town name suggestions
   - ‚úÖ Voting on favorite names
   - ‚è≥ Mario Party-style tie-breaker (needs implementation)

2. ‚úÖ **Role assignment system** (MOSTLY COMPLETED)
   - ‚úÖ Automatic role distribution based on player count (4-10+ players)
   - ‚úÖ Role reveal to individual players
   - ‚è≥ Custom setup options for different player counts
   - ‚è≥ Host-selectable role breakdowns and quantities
   - ‚è≥ Preset configurations alongside current auto-assignment

3. ‚úÖ **Night/Day cycle mechanics** (MOSTLY COMPLETED)
   - ‚úÖ Night phase: role-specific actions (UI implemented)
   - ‚úÖ Day phase: discussion and player nomination
   - ‚úÖ Timer fallbacks for slow players
   - ‚è≥ Backend logic for processing night actions

4. ‚úÖ **Voting and elimination system** (MOSTLY COMPLETED)
   - ‚úÖ Player nomination process
   - ‚úÖ Yes/no voting on execution
   - ‚úÖ Majority required logic (UI shows threshold)
   - ‚è≥ Backend processing of votes and elimination

## UI/UX Improvements (Medium Priority)
5. Lobby waiting state indicator
   - Display "waiting for host to start game" message for non-host players
   - Clear visual indication when waiting for host action

### Polish & Enhancement Features (Lower Priority)
6. Audio cues and sound effects
   - "Town, go to sleep" voice lines
   - State transition sounds
   - Text-to-speech integration

7. Animations and visual polish
   - Mario Party-style tie-breaker wheel
   - Smooth transitions between phases
   - Enhanced mobile UI interactions

## Recent Completed Features
‚úÖ **Universal Enter Key Support (July 30, 2025)**
- All text inputs now accept Enter key in addition to button clicks
- Home page: Host name and room code inputs
- Lobby page: Player name input for joining games  
- Town naming page: Town name suggestion input
- Proper validation and pending state handling implemented

‚úÖ **Required Name Entry for Game Joining (July 30, 2025)**
- Home page now requires name entry before joining games
- Added player name input field above room code input
- Join Game button disabled until both name and room code entered
- Removed redundant name entry from lobby page
- Maintained name uniqueness validation on client and server

‚úÖ **Inline Error Message Display (July 30, 2025)**
- Added error message display under name input fields
- Host name and player name inputs show validation errors below field
- Includes empty name, name too long, and name already taken errors
- Input fields highlight red when errors occur
- Errors clear when user starts typing corrections

‚úÖ **Case-Insensitive Name Uniqueness (July 30, 2025)**
- Name uniqueness validation now case-insensitive
- "Sean" and "sean" treated as duplicate names
- Updated player join validation and test player generation
- Consistent checking across all name conflict detection

## User Preferences & Notes
- Keep everything mobile-friendly
- Maintain simple, everyday language in UI
- Focus on reliable functionality over flashy features
- Role assignment system needs flexibility: custom setups by player count + host-selectable role distributions
- UI/UX Standard: All text input fields across all game phases should support Enter key submission